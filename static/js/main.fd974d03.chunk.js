(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{136:function(e,t,a){e.exports=a.p+"static/media/dead.4b2b5999.svg"},142:function(e,t,a){e.exports=a.p+"static/media/placeholder.33ba4ece.svg"},151:function(e,t,a){e.exports=a(350)},350:function(e,t,a){"use strict";a.r(t);var n,r,o=a(0),i=a.n(o),l=a(22),c=a(39),s=a(27),u=a(122),p=a(15),d={cover:null},m={},g=a(123),h=a.n(g),f={songs:[],favorites:[],idx:0,sortBy:"",current:{title:"Loading songs",artist:"..."}},y="playlist/LIKE",v="playlist/SORT",E="playlist/NEXT",b="playlist/PREV",O={like:function(e){return{type:y,title:e}},unlike:function(e){return{type:"playlist/UNLIKE",title:e}},select:function(e){return{type:"playlist/SELECT",title:e}},next:function(e){return{type:E}},sortBy:function(e){return{type:v,payload:e}},previous:function(e){return{type:b}}},C=a(124),j=a.n(C),S={loading:!1,failed:!1,error:null},w=Object({NODE_ENV:"production",PUBLIC_URL:".",REACT_APP_BASE_URL:"./",REACT_APP_SONGS_PATH:"songs.json"}),k=w.REACT_APP_BASE_URL,P=void 0===k?"http://localhost:3001/api":k,x=w.REACT_APP_SONGS_PATH,N=void 0===x?"/songs":x,A=j.a.create({baseURL:P,json:!0}),T=function(e){return function(t){return e({type:"api/FETCH_FAILED",payload:t.message})}},_=function(e){return function(t){return e({type:"api/FETCH_SUCCEED",payload:t.data})}},L={fetchSongs:function(e){return function(e){return e({type:"api/FETCH_SONGS"}),A.get(N).then(_(e)).catch(T(e))}},getCoverUrl:function(e){return function(t){return t({type:"api/FETCH_COVER"}),A.get(N+"/".concat(e,"/cover")).then(function(e){return t({type:"api/FETCH_COVER_SUCCEED",payload:e.data})}).catch(function(e){return t({type:"api/FETCH_FAILED",payload:e})})}},fetchPage:function(e){return function(t){return t({type:"api/FETCH_SONGS"}),A.get("".concat(N,"?page=").concat(e)).then(_(t)).catch(T(t))}}},D=Object(s.c)({player:(n={COVER_LOADED:"api/FETCH_COVER_SUCCEED"},r=n.COVER_LOADED,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case r:return Object(p.a)({},e,{cover:t.payload[1].url});default:return e}}),playList:function(e){var t=e.SONGS_LOADED;return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{payload:{}},n=function(t){return{current:e.songs[t],idx:t}};switch(a.type){case y:return Object(p.a)({},e,{favorites:e.favorites.concat(a.title)});case"playlist/UNLIKE":return Object(p.a)({},e,{favorites:e.favorites.filter(function(e){return e!==a.title})});case v:return Object(p.a)({},e,{songs:h()(e.songs,a.payload),sortBy:a.payload});case"playlist/SELECT":var r=e.songs.findIndex(function(e){return e.title===a.title});return Object(p.a)({},e,n(r));case E:var o=e.idx+1;return Object(p.a)({},e,o<e.songs.length?n(o):{});case b:var i=e.idx-1;return Object(p.a)({},e,i>=0?n(i):{});case t:return Object(p.a)({},e,{songs:a.payload.songs,current:a.payload.songs[0],page:a.payload.page,total:a.payload.total,pageSize:a.payload.pageSize});default:return e}}}({SONGS_LOADED:"api/FETCH_SUCCEED"}),api:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"api/FETCH_SONGS":return Object(p.a)({},e,{failed:!1,loading:!0,error:null});case"api/FETCH_FAILED":return Object(p.a)({},e,{failed:!0,loading:!1,error:t.payload});case"api/FETCH_SUCCEED":return Object(p.a)({},e,{failed:!1,loading:!1,error:null});default:return e}}}),I=[u.a],R=s.d.apply(void 0,[s.a.apply(void 0,I)].concat([])),B=Object(s.e)(D,{},R),F=a(16),U=a(17),H=a(19),W=a(18),z=a(20),G=a(14),M=a(74),V=a.n(M),K=a(75),J=a.n(K),q=a(135),X=a.n(q),Y=a(134),$=a.n(Y),Q=a(44),Z=a.n(Q),ee=a(38),te=a.n(ee),ae=a(28),ne=a.n(ae),re=a(125),oe=a.n(re),ie=a(126),le=a.n(ie),ce=Object(G.withStyles)(function(e){return{like:{color:"red"}}})(function(e){var t=e.liked,a=e.onLike,n=e.onDislike,r=e.classes;return i.a.createElement(ne.a,{onClick:t?n:a,className:r.like,"aria-label":"Like"},t?i.a.createElement(oe.a,null):i.a.createElement(le.a,null))}),se=a(23),ue=a.n(se),pe=a(36),de=a.n(pe),me=a(37),ge=a.n(me),he=a(128),fe=a.n(he),ye=a(127),ve=a.n(ye),Ee=function(e){function t(){return Object(F.a)(this,t),Object(H.a)(this,Object(W.a)(t).apply(this,arguments))}return Object(z.a)(t,e),Object(U.a)(t,[{key:"render",value:function(){var e=this.props,t=e.pages,a=e.totalFavorites,n=e.classes,r=e.nextPage,o=e.prevPage,l=e.page;return i.a.createElement("div",{className:n.root},i.a.createElement(de.a,{position:"static",color:"default"},i.a.createElement(ge.a,{classes:{root:n.toolbar},variant:"dense"},i.a.createElement(ue.a,{variant:"h6",color:"inherit",className:n.grow},"Favorites: ",a),i.a.createElement("div",{className:n.pagination},i.a.createElement(ne.a,{onClick:o,disabled:l<=1},i.a.createElement(ve.a,null)),i.a.createElement(ue.a,{variant:"button",gutterBottom:!0},l," / ",t),i.a.createElement(ne.a,{onClick:r,disabled:l>=t},i.a.createElement(fe.a,null))))))}}]),t}(o.PureComponent),be=Object(G.withStyles)(function(e){return{toolbar:{alignItems:"center"},grow:{flexGrow:1},pagination:{display:"flex",alignItems:"center"}}})(Ee),Oe=a(60),Ce=a.n(Oe),je=a(129),Se=a.n(je),we=a(131),ke=a.n(we),Pe=a(130),xe=a.n(Pe),Ne=a(132),Ae=a.n(Ne),Te=function(e){function t(){var e,a;Object(F.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(H.a)(this,(e=Object(W.a)(t)).call.apply(e,[this].concat(r)))).onSort=function(e){a.props.onSortChange(e.target.value)},a}return Object(z.a)(t,e),Object(U.a)(t,[{key:"render",value:function(){var e=this.props,t=e.sortBy,a=void 0===t?"":t,n=e.classes;return i.a.createElement("div",{className:n.root},i.a.createElement(de.a,{position:"static"},i.a.createElement(ge.a,{classes:{root:n.toolbar},color:"primary"},i.a.createElement(Se.a,{className:n.formControl,variant:"filled"},i.a.createElement(xe.a,{classes:{root:n.label,filled:n.label}},"Sort by"),i.a.createElement(ke.a,{value:a,onChange:this.onSort,name:"sort-by",input:i.a.createElement(Ae.a,{name:"sortBy"})},i.a.createElement(Ce.a,{value:""},"--"),i.a.createElement(Ce.a,{value:"artist"},"Artist"),i.a.createElement(Ce.a,{value:"title"},"Title"))))))}}]),t}(o.PureComponent),_e=Object(G.withStyles)(function(e){var t=e.palette,a=e.spacing;return console.log(t)||{toolbar:{display:"flex",flexDirection:"row-reverse",alignItems:"center"},formControl:{margin:a.unit,minWidth:120},label:{color:t.primary.contrastText}}})(Te),Le=a(133),De=a.n(Le),Ie=Object(G.withStyles)(function(e){return{root:{display:"flex",flexDirection:"column",alignItems:"center",width:"100%",height:"100%",position:"absolute",zIndex:10,opacity:.7},spinner:{}}})(function(e){return i.a.createElement("div",{className:e.classes.root},i.a.createElement(De.a,{className:e.classes.spinner,style:{width:e.spinnerSize||"50px",height:"initial"},color:"primary"}),i.a.createElement(ue.a,{variant:"h6",align:"center",color:"textSecondary",paragraph:!0},e.message))});var Re=Object(G.withStyles)(function(e){return{root:{width:"100%",backgroundColor:e.palette.background.paper},body:{maxHeight:"50vh",minHeight:"50vh",overflowY:"scroll"},loading:{minHeight:"200px",top:"33%"}}})(function(e){var t=e.classes,a=e.onSelect,n=e.data,r=e.selected,o=e.favorites,l=void 0===o?[]:o,c=e.like,s=e.loading,u=e.dislike,p=e.onSortChange,d=e.footer,m=e.sortBy;return i.a.createElement("div",{className:t.root},i.a.createElement(V.a,null,s&&i.a.createElement(Ie,{message:"loading songs list",spinnerSize:"33%",classes:{root:t.loading}}),i.a.createElement(_e,{onSortChange:p,sortBy:m}),i.a.createElement(Z.a,{className:t.body,elevation:0,square:!0},n.map(function(e){return i.a.createElement(J.a,{key:e.id,role:void 0,dense:!0,button:!0,selected:r===e.title,onClick:function(){return a(e.title)}},r===e.title&&i.a.createElement(te.a,{color:"primary"}),i.a.createElement($.a,{primary:e.title,secondary:e.artist}),i.a.createElement(X.a,null,i.a.createElement(ce,{liked:l.includes(e.title),onLike:function(t){return c(e.title)},onDislike:function(t){return u(e.title)}})))})),i.a.createElement(be,Object.assign({totalSongs:n.length,totalFavorites:l.length},d))))}),Be=a(144),Fe=a.n(Be),Ue=a(145),He=a.n(Ue),We=a(146),ze=a.n(We),Ge=a(136),Me=a.n(Ge),Ve=a(137),Ke=a.n(Ve),Je=a(77),qe=a.n(Je),Xe=a(138),Ye=a.n(Xe),$e=a(76),Qe=a.n($e),Ze=a(140),et=a.n(Ze),tt=a(139),at=a.n(tt),nt=a(141),rt=a.n(nt),ot=function(e){function t(){return Object(F.a)(this,t),Object(H.a)(this,Object(W.a)(t).apply(this,arguments))}return Object(z.a)(t,e),Object(U.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.onPlay,n=e.onPause,r=e.theme,o=e.onVolumeChange,l=e.onNext,c=e.onPrev,s=e.volume,u=void 0===s?0:s,p=e.playing,d=e.muted,m=e.onMuteToggle;return i.a.createElement("div",{className:t.root},i.a.createElement("div",{className:t.buttons},i.a.createElement(ne.a,{"aria-label":"Previous",onClick:c},"rtl"===r.direction?i.a.createElement(Qe.a,null):i.a.createElement(qe.a,null)),i.a.createElement(ne.a,{"aria-label":p?"Pause":"Play",onClick:p?n:a},p?i.a.createElement(Ye.a,{className:t.playIcon}):i.a.createElement(te.a,{className:t.playIcon})),i.a.createElement(ne.a,{"aria-label":"Next",onClick:l},"rtl"===r.direction?i.a.createElement(qe.a,null):i.a.createElement(Qe.a,null)),i.a.createElement(ne.a,{"aria-label":"mute",onClick:m},d?i.a.createElement(at.a,null):i.a.createElement(et.a,null))),i.a.createElement("div",{className:t.sliderContainer},i.a.createElement(rt.a,{classes:{container:t.slider},value:u,min:0,max:1,onChange:function(e,t){return o(t)}})))}}]),t}(o.PureComponent),it=Object(G.withStyles)({playIcon:{height:38,width:38},root:{display:"flex",alignItems:"center",width:"100%"},buttons:{},sliderContainer:{flexGrow:1},slider:{padding:"22px 0px",width:"90%"}},{withTheme:!0})(ot),lt=a(142),ct=a.n(lt),st=a(143),ut=a.n(st),pt=function(e){function t(){return Object(F.a)(this,t),Object(H.a)(this,Object(W.a)(t).apply(this,arguments))}return Object(z.a)(t,e),Object(U.a)(t,[{key:"render",value:function(){var e=this.props,t=e.title,a=e.cover,n=e.classes;return i.a.createElement(ut.a,{component:"img",alt:t,className:n.media,height:"200",image:a||ct.a,title:t||"image"})}}]),t}(o.PureComponent),dt=Object(G.withStyles)(function(e){return{media:{objectFit:"cover"}}})(pt),mt=function(e){function t(){var e,a;Object(F.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(H.a)(this,(e=Object(W.a)(t)).call.apply(e,[this].concat(r)))).state={playing:!1,autoplay:!1,muted:!1,loading:!0,error:!1,position:0,volume:1},a.next=function(){a.setState({autoplay:!0,error:!1}),a.props.next()},a.onAbort=function(){a.setState({loading:!0,position:0,error:!1})},a.onCanPlay=function(){a.setState({loading:!1,error:!1})},a.onMute=function(){a.setState({muted:!a.state.muted})},a.onVolumeChange=function(e){a.setState({volume:e})},a.onPause=function(){a.setState({playing:!1,autoplay:!1})},a.onError=function(e){a.setState({playing:!1,loading:!1,error:!0})},a.play=function(){a.player.audioEl.play()},a.pause=function(){a.player.audioEl.pause()},a.setDuration=function(e){a.setState({duration:e.srcElement.duration})},a.setPosition=function(e){a.setState({position:100*e/a.state.duration})},a}return Object(z.a)(t,e),Object(U.a)(t,[{key:"onPlay",value:function(){this.setState({playing:!0,autoplay:!0})}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.song,r=void 0===n?{}:n,o=t.previous,l=t.cover;return window.document.title=r.title||"Music player",i.a.createElement(Fe.a,{className:a.card},this.state.loading&&i.a.createElement(Ie,{classes:{root:a.loadingRoot,spinner:a.spinner},spinnerSize:"33%"}),i.a.createElement(dt,{title:r.title||"image",cover:this.state.error?Me.a:l}),i.a.createElement("div",{className:a.details},i.a.createElement(He.a,{className:a.content},i.a.createElement(ue.a,{component:"h5",variant:"h5"},r.title),i.a.createElement(ue.a,{variant:"subtitle1",color:"textSecondary"},r.artist)),i.a.createElement(ze.a,{value:this.state.position,variant:"determinate",className:a.progressBar}),i.a.createElement("div",{className:a.controls},i.a.createElement(Ke.a,{ref:function(t){return e.player=t},src:r.url,autoPlay:this.state.autoplay,volume:this.state.volume,muted:this.state.muted,onEnded:this.next.bind(this),onPlay:this.onPlay.bind(this),onPause:this.onPause,onAbort:this.onAbort,onCanPlay:this.onCanPlay,listenInterval:1e3,onLoadedMetadata:this.setDuration,onListen:this.setPosition,onError:this.onError}),i.a.createElement(it,{playing:this.state.playing,muted:this.state.muted,volume:this.state.volume,onVolumeChange:this.onVolumeChange,onPlay:this.play,onPause:this.pause,onNext:this.next,onPrev:o,onMuteToggle:this.onMute}))))}}]),t}(o.Component),gt=Object(G.withStyles)({media:{},card:{position:"relative"},loadingRoot:{position:"absolute",width:"100%",height:"100%",backgroundColor:"#fff",opacity:.7,zIndex:10},spinner:{position:"absolute",top:"33%"},progressBar:{width:"100%"},details:{display:"flex",alignItems:"center",flexDirection:"column"},content:{flex:"1 0 auto"},cover:{"min-width":150},controls:{display:"flex",alignItems:"center",width:"100%"}},{withTheme:!0})(mt),ht=a(61),ft=a.n(ht),yt=function(e){return i.a.createElement(ft.a,{container:!0,direction:"row",justify:"center",alignItems:"center",spacing:8},i.a.createElement(ft.a,{item:!0,md:4,xs:12},e.left),i.a.createElement(ft.a,{item:!0,md:8,xs:12},e.right))},vt=function(e){function t(){return Object(F.a)(this,t),Object(H.a)(this,Object(W.a)(t).apply(this,arguments))}return Object(z.a)(t,e),Object(U.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchSongs()}},{key:"componentWillReceiveProps",value:function(e){e.current.id!==this.props.current.id&&this.props.getCoverUrl(e.current.id)}},{key:"render",value:function(){var e=this.props,t=e.playList;return i.a.createElement(yt,{left:i.a.createElement(gt,{song:t.current,next:e.next,previous:e.previous,cover:e.cover}),right:i.a.createElement(Re,{like:e.like,onSortChange:e.sortBy,onSelect:e.select,footer:{nextPage:function(){return e.fetchPage(t.page+1)},prevPage:function(){return e.fetchPage(t.page-1)},page:t.page+1||0,pages:Math.round(t.total/t.pageSize)||0},dislike:e.unlike,sortBy:t.sortBy,data:t.songs,favorites:t.favorites,selected:t.current.title,loading:e.api.loading})})}}]),t}(o.Component),Et=Object(c.b)(function(e){var t=e.player,a=e.playList,n=e.api;return{playing:t.playing,cover:t.cover,current:a.current,api:n,playList:a}},function(e){return Object(s.b)(Object(p.a)({},m,O,L),e)})(vt),bt=a(78),Ot=a.n(bt),Ct=a(148),jt=a.n(Ct),St=a(58),wt=a(5),kt=a.n(wt),Pt=a(147),xt=a.n(Pt);var Nt=Object(G.withStyles)(function(e){return{appBar:{position:"relative"},icon:{marginRight:2*e.spacing.unit},layout:Object(St.a)({width:"auto",marginLeft:3*e.spacing.unit,marginRight:3*e.spacing.unit},e.breakpoints.up(1100+3*e.spacing.unit*2),{width:1100,marginLeft:"auto",marginRight:"auto"}),cardGrid:{padding:"".concat(8*e.spacing.unit,"px 0")},barControls:{width:"50%",position:"absolute",right:3*e.spacing.unit},footer:{backgroundColor:e.palette.background.paper,padding:6*e.spacing.unit}}})(function(e){var t=e.classes,a=e.appName,n=e.appIcon,r=e.toolbar;return i.a.createElement(i.a.Fragment,null,i.a.createElement(xt.a,null),i.a.createElement(de.a,{position:"static",className:t.appBar},i.a.createElement(ge.a,null,i.a.createElement(n,{className:t.icon}),i.a.createElement(ue.a,{variant:"h6",color:"inherit",noWrap:!0},a),i.a.createElement("div",{className:t.barControls},r))),i.a.createElement("main",null,i.a.createElement("div",{className:kt()(t.layout,t.cardGrid)},e.children)),i.a.createElement("footer",{className:t.footer},i.a.createElement(ue.a,{variant:"subtitle1",align:"center",color:"textSecondary",component:"p"},"Made By Danielo Rodriguez using Material-U")))}),At=Object(o.lazy)(function(){return a.e(1).then(a.bind(null,362))}),Tt=Object(o.lazy)(function(){return a.e(2).then(a.bind(null,361))}),_t=function(){return i.a.createElement("span",{style:{display:"none"}})},Lt=function(e){function t(){var e,a;Object(F.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(H.a)(this,(e=Object(W.a)(t)).call.apply(e,[this].concat(r)))).state={tab:"player"},a.changeTab=function(e,t){a.setState({tab:t})},a}return Object(z.a)(t,e),Object(U.a)(t,[{key:"render",value:function(){var e=i.a.createElement(jt.a,{value:this.state.tab,onChange:this.changeTab,fullWidth:!0,centered:!0},i.a.createElement(Ot.a,{label:"Player",value:"player"}),i.a.createElement(Ot.a,{label:"About",value:"about"}));return i.a.createElement(o.Fragment,null,i.a.createElement(o.Suspense,{fallback:_t},this.props.error&&i.a.createElement(At,{open:!0,message:"Sorry, seems that our servers are having problems. We recommend you to refresh your browser in a while"})),i.a.createElement(Nt,{appIcon:te.a,appName:"MusicPlayer",toolbar:e},i.a.createElement("div",{style:{display:"player"===this.state.tab?"block":"none"}},i.a.createElement(Et,null)),i.a.createElement(o.Suspense,{fallback:_t},"about"===this.state.tab&&i.a.createElement(Tt,null))))}}]),t}(o.Component),Dt=Object(c.b)(function(e){return{error:null!=e.api.error}})(Lt),It=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Rt(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}var Bt=document.getElementById("root");Object(l.render)(i.a.createElement(c.a,{store:B},i.a.createElement(Dt,null)),Bt),function(e){if("serviceWorker"in navigator){if(new URL(".",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat(".","/service-worker.js");It?(function(e,t){fetch(e).then(function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):Rt(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")})):Rt(t,e)})}}()}},[[151,4,3]]]);
//# sourceMappingURL=main.fd974d03.chunk.js.map